<script>
$(document).ready(function(){
    $('.datepicker').datepicker({
     // set default date to goal end date
        setDefaultDate: new Date(),
        // prevent selecting end date before todays date
        minDate: new Date(),
        // only allow years to be current/future years
        yearRange: [2020, 2030]
 });
 $('.tooltipped').tooltip();

 //open datepicker on focusing on date field 
 $("#end_date").focus(function(){
    $('#end_date').click();
 })

$('#create-goal-btn').click(function(){
    if ($("#create-goal-name").val()){
        $("#goal_name").val($("#create-goal-name").val())
        $("#create-goal-card").removeClass("display-none")
        $("#main-card").addClass("display-none")
    } else {
        $("#create-goal-name").addClass("invalid")
    }
})

// set img url input 
$('input:radio[name="img-method"]').change(function () {
    $("#image_url").removeAttr("disabled")
     if ($(this).val() == "keyword") {
        $("#image_url").attr("placeholder", "Enter Your Keyword").attr("type", "text").next().text('Enter Your Keyword (i.e. "beach", "car", "birthday")')
    } 
    else { 
        $("#image_url").attr("placeholder", "Enter Your Image URL").attr("type", "url").next().text('Enter Image Url ("https://...")')
    }  
})

$("#add_goal_fab_card, #add-goal-btn").click(function(){
   showCreateGoal()
})

$("#create-goal-cancel").click(function(){
    hideCreateGoal()
})

if ({{ add_goal | tojson }}) {
        showCreateGoal();
    };

function showCreateGoal(){
    $("#create-goal-card").removeClass("display-none")
    $(".card:not('#create-goal-card')").addClass("display-none")
}

function hideCreateGoal(){
    $("#create-goal-card").addClass("display-none")
    $(".card:not('#create-goal-card')").removeClass("display-none")
}
});
</script>